(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){var r=n(66),a=n(69),c=n(70),o=n(9);e.exports=function(e){var t=e.lapi,n=e.socket,i=e.ecdh,l=e.getState,s=void 0===l?function(){}:l,u=e.setState,f=void 0===u?function(){}:u;return new Promise(function(e,l){var u,d=new c,y="";n.binaryType="arraybuffer",n.addEventListener("message",function(c){var l=c.data;if(y){var v,m=u.decrypt(l,"bytearray"),h=d.untwist(m).shift(),p=a(h),g=p[0],w=p.slice(1);"function"===typeof t[g]&&(v=t)[g].apply(v,r(w))}else{l=new Uint8Array(l);var E=d.untwist(l).shift(),A=E.key,b=E.api;y=i.computeSecret(A),u=new o(y);var k={};b.forEach(function(e){return k[e]=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var c=d.twist([e].concat(r));n.send(u.encrypt(c,"bytearray"))}}),t=t(k,s,f),k.key=A,e(k)}});var v=i.getPublicKey(),m=d.twist({key:v,api:Object.keys(t())});n.send(Uint8Array.from(m))})}},27:function(e,t,n){e.exports=n.p+"static/media/logo-te-logo.aaa32282.png"},30:function(e,t,n){e.exports=n(77)},35:function(e,t,n){},44:function(e,t){},46:function(e,t){},70:function(e,t,n){(function(t){var r=n(71),a=n(73),c=n(17),o=n(74),i="undefined"!==typeof window?{encode:function(e){return(new TextEncoder).encode(e)},decode:function(e){return(new TextDecoder).decode(Uint8Array.from(e))}}:{encode:function(e){return t.from(e)},decode:function(e){return t.from(e).toString("utf8")}},l=15,s=16,u=0,f=1,d=2,y=3,v=4,m=5,h=6,p=7,g=14,w=15,E=32,A=48,b=64,k=80,U=96,N=function(){"use strict";function e(t){var n,o=this;c(this,e),this.types=(a(n={},s,{twist:function(e){if("Boolean"===e.constructor.name)return[s|(e?w:g)];var t=e.toString(16),n=[Float64Array,p];/\./.test(t)||(e<0?-129<e?n=[Int8Array,y]:-32769<e?n=[Int16Array,v]:-2147483649<e&&(n=[Int32Array,m]):e<256?n=[Uint8Array,u]:e<65536?n=[Uint16Array,f]:e<4294967296&&(n=[Uint32Array,d]));var r=Array.from(new Uint8Array(n[0].from([e]).buffer));return r.unshift(s|n[1]),r},untwist:function(e,t,n){var r;return(r={},a(r,u,function(e,t){return[e[t],t+1]}),a(r,f,function(e,t){var n=new Uint8Array(e.slice(t,t+2)).buffer;return[new Uint16Array(n)[0],t+2]}),a(r,d,function(e,t){var n=new Uint8Array(e.slice(t,t+4)).buffer;return[new Uint32Array(n)[0],t+4]}),a(r,y,function(e,t){return[e[t],t+1]}),a(r,v,function(e,t){var n=new Uint8Array(e.slice(t,t+2)).buffer;return[new Int16Array(n)[0],t+2]}),a(r,m,function(e,t){var n=new Uint8Array(e.slice(t,t+4)).buffer;return[new Int32Array(n)[0],t+4]}),a(r,h,function(e,t){var n=new Uint8Array(e.slice(t,t+4)).buffer;return[new Float32Array(n)[0],t+4]}),a(r,p,function(e,t){var n=new Uint8Array(e.slice(t,t+8)).buffer;return[new Float64Array(n)[0],t+8]}),a(r,g,function(){return[!1,n]}),a(r,w,function(){return[!0,n]}),r)[e](t,n)}}),a(n,E,{twist:function(e){for(var t=Array.from(i.encode(e)),n=[],r=t.length;r;)n.unshift(255&r),r>>=8;return[E|n.length].concat(n).concat(t)},untwist:function(e,t,n){var r=t.slice(n,n+e).reduce(function(e,t){return e<<8|t},0);return[i.decode(new Uint8Array(t.slice(n+e,n+e+r))),n+e+r]}}),a(n,A,{twist:function(e){var t=o.types[E].twist(e.toString());return t[0]=A|t[0]&l,t},untwist:function(e,t,n){var r=o.types[E].untwist(e,t,n);return r[0]=new RegExp(r[0].replace(/^\/(.*)\/g?i?m?u?y?$/,"$1"),r[0].replace(/^\/.*\/(g?i?m?u?y?)$/,"$1")),r}}),a(n,b,{twist:function(e){for(var t=[],n=(e=Object.entries(e)).length;n;)t.unshift(255&n),n>>=8;return e.reduce(function(e,t){var n=r(t,2),a=n[0],c=n[1];return a=o.types[E].twist(a),e.concat(a).concat(o.twist(c))},[b|t.length].concat(t))},untwist:function(e,t,n){var a=t.slice(n,n+e).reduce(function(e,t){return e<<8|t},0);n+=e;for(var c={};a--;){var i=o.untwist(t,n),l=r(i,2),s=l[0],u=l[1],f=o.untwist(t,u),d=r(f,2),y=d[0],v=d[1];c[s]=y,n=v}return[c,n]}}),a(n,k,{twist:function(e){for(var t=[],n=(e=Array.from(e)).length;n;)t.unshift(255&n),n>>=8;return e.reduce(function(e,t){return e.concat(o.twist(t))},[k|t.length].concat(t))},untwist:function(e,t,n){var a=t.slice(n,n+e).reduce(function(e,t){return e<<8|t},0);n+=e;for(var c=[];a--;){var i=o.untwist(t,n),l=r(i,2),s=l[0],u=l[1];c.push(s),n=u}return[c,n]}}),a(n,U,{twist:function(e){for(var t=[],n=(e=Array.from(e)).length;n;)t.unshift(255&n),n>>=8;return[U|t.length].concat(t).concat(e)},untwist:function(e,t,n){var r=t.slice(n,n+e).reduce(function(e,t){return e<<8|t},0);return[t.slice(n+e,n+e+r),n+e+r]}}),n)}return o(e,[{key:"inspect",value:function(e){return null===e||"undefined"===typeof e?null:"string"===typeof e?E:"number"===typeof e||"boolean"===typeof e?s:e instanceof Uint8Array||"undefined"!==typeof t&&e instanceof t?U:e instanceof RegExp?A:e instanceof Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array?k:b}},{key:"twist",value:function(e){return this.types[this.inspect(e)].twist(e)}},{key:"untwist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e instanceof ArrayBuffer?e=new Uint8Array(e):e instanceof Uint8Array||(e=Uint8Array.from(e));var n=e[t],r=240&n,a=n&l;return this.types[r].untwist(a,e,t+1)}}]),e}();e.exports=N}).call(this,n(10).Buffer)},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),i=(n(35),n(22)),l=n(23),s=n(28),u=n(24),f=n(29),d=n(25),y=n.n(d),v=n(5),m=n.n(v),h=n(9),p=n.n(h),g=n(26),w=n.n(g),E=n(27),A=n.n(E),b=(n(75),"undefined"!==typeof window),k="undefined"!==typeof location?location.pathname.slice(1):"",U=b?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.log("LS",{id:e,value:t}),t)try{return t=JSON.stringify(t),localStorage.setItem(e,t),t}catch(n){console.error("Can not convert to JSON value",t,"\nerror:\n",n)}else{if("undefined"===typeof localStorage[e])return null;try{return JSON.parse(localStorage[e])}catch(n){console.error("Can not parse localStorage[".concat(e,"] as JSON:\n").concat(localStorage[e],",\nerror:\n"),n)}}return null}:function(){},N=function(e,t,n){return{init:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,["init:"].concat(n))},message:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,["init:"].concat(n))}}},x=function(e){function t(e){var n,r=e.path;if(Object(i.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this)),r=r||k,n.ecdh=y()("secp521r1"),n.bc=new p.a(""),n.state={key:n.ecdh.generateKeys(),secret:"",peerMessage:"",message:""},b){n.setupKeys();var a="wss://cloud.mem.chat:".concat(49374),c=null;try{(c=new WebSocket(a)).addEventListener("open",function(){w()({lapi:N,socket:c,ecdh:n.ecdh,getState:n.getState,setState:function(e){return n.setState(e)}}).then(function(e){n.server=e,console.log({server:e,id:n.id}),n.setState({connected:!0}),e.init()})})}catch(o){console.warn("Connection to ".concat(a,": awaiting mem cloud connection..."))}}return n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"getState",value:function(){return this.state}},{key:"setupKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)this.ecdh.setPrivateKey(e),this.publicKey=this.ecdh.getPublicKey(),this.privateKey=e;else{if(U&&(e=U("privateKey")),e)return this.setupKeys(e);this.publicKey=this.ecdh.generateKeys(),this.privateKey=this.ecdh.getPrivateKey()}U&&U("privateKey",this.privateKey)}},{key:"onPeerPublicChange",value:function(e){var t=e.value,n=void 0===t?null:t;if(n)try{var r=this.ecdh.computeSecret(new Uint8Array(m.a.decode(n)));this.setState({secret:r}),this.bc=new p.a(r)}catch(a){console.warn("wrong peer public:",n,m.a.decode(n),a)}}},{key:"onPeerMessageChange",value:function(e){var t=e.value,n=void 0===t?null:t;if(n)try{this.setState({peerMessage:this.bc.decrypt(new Uint8Array(m.a.decode(n)))})}catch(r){console.warn("wrong peer message:",n,r)}}},{key:"onMessageChange",value:function(e){var t=e.value,n=void 0===t?null:t;if(n)try{this.setState({message:m.a.encode(this.bc.encrypt(n))})}catch(r){console.warn("wrong message:",n,r)}}},{key:"copy",value:function(e){var t=e.value;(void 0===t?null:t)&&console.log({navigator:navigator})}},{key:"render",value:function(){var e=this;console.log("key:",this.state.key);var t=this.state,n=t.key,r=(t.secret,t.peerMessage),c=t.message,o=m.a.encode(n);return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("span",null,"MEM Project"),a.a.createElement("span",null,a.a.createElement("img",{src:A.a,className:"App-logo",alt:"logo"})),a.a.createElement("span",null,"relative-chaos")),a.a.createElement("h4",null,"end-to-end content encryptyon lab"),a.a.createElement("div",{className:"App-ui"},a.a.createElement("div",{className:"h-box"},a.a.createElement("span",null,a.a.createElement("textarea",{className:"key-field",placeholder:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043b\u044e\u0447 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430",onChange:function(t){var n=t.target,r=void 0===n?null:n;return r&&e.onPeerPublicChange(r)}})),a.a.createElement("span",null,a.a.createElement("textarea",{className:"key-field",title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440",onChange:function(e){return e},defaultValue:o}))),a.a.createElement("div",{className:"h-box"},a.a.createElement("span",null,a.a.createElement("textarea",{placeholder:"\u0428\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430",onChange:function(t){var n=t.target,r=void 0===n?null:n;return r&&e.onPeerMessageChange(r)}})),a.a.createElement("span",null,a.a.createElement("textarea",{placeholder:"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0443",onChange:function(t){var n=t.target,r=void 0===n?null:n;return r&&e.onMessageChange(r)}}))),a.a.createElement("div",{className:"h-box"},a.a.createElement("span",null,a.a.createElement("textarea",{disabled:!0,onClick:function(t){var n=t.target,r=void 0===n?null:n;return r&&e.copy(r)},title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440",placeholder:"\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430",value:r})),a.a.createElement("span",null,a.a.createElement("textarea",{disabled:!0,onClick:function(t){var n=t.target,r=void 0===n?null:n;return r&&e.copy(r)},title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440",placeholder:"\u0428\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0443",value:c})))),a.a.createElement("h5",null,"2018 \xa9 MEM COST Technologies"),a.a.createElement("div",{className:"footer"},a.a.createElement("div",{className:"top-2"},a.a.createElement("h3",null,"Want to be owner of You id`s?")),a.a.createElement("div",{className:"top-2"},"Contribute ( Self Security Hand Book comming soon. Please ",a.a.createElement("a",{className:"mail-link",href:"https://github.com/relative-chaos"},"follow on gihub")," )"),a.a.createElement("div",{className:"top-2"},"Or ",a.a.createElement("a",{className:"mail-link",href:"https://money.yandex.ru/to/410018135995820"},"Donate"),", if you understand, what we do:"),a.a.createElement("div",{className:"flex top-2"},a.a.createElement("div",{className:"key"},a.a.createElement("p",null,"ETH"),a.a.createElement("p",{className:"wallet"},"0xd0b9e1735ea2c1e2afec712089afc8fcad8906e0")),a.a.createElement("div",{className:"key left-2"},a.a.createElement("p",null,"BTC"),a.a.createElement("p",{className:"wallet"},"16ghju2oHehczLCcCjRszbYqMrpXpp1pnS")),a.a.createElement("div",{className:"key"},a.a.createElement("p",null,"DOGE"),a.a.createElement("p",{className:"wallet"},"DCiTowGc2dLLRwY1sEhEBzZ4ZniJL1Hvbn")),a.a.createElement("div",{className:"key left-2"},a.a.createElement("p",null,"LTC"),a.a.createElement("p",{className:"wallet"},"LNLcMkQD8jogMtfvjCFaMucyXoECUDn8pL"))),a.a.createElement("div",{className:"flex top-2"},a.a.createElement("div",{className:"key"},a.a.createElement("p",null,"XMR"),a.a.createElement("p",{className:"wallet"},"4BrL51JCc9NGQ71kWhnYoDRffsDZy7m1HUU7MRU4nUMXAHNFBEJhkTZV9HdaL4gfuNBxLPc3BeMkLGaPbF5vWtANQoshL4x66PkQf8usv5")),a.a.createElement("div",{className:"key left-2"},a.a.createElement("p",null,"ZEC"),a.a.createElement("p",{className:"wallet"},"t1LJnH6QFP59PL1UokvZ3YtyoJs6B9yQEiR")),a.a.createElement("div",{className:"key"},a.a.createElement("p",null,"BCH"),a.a.createElement("p",{className:"wallet"},"bitcoincash:qzu0j3n5x48d338ngfgvv2h6frltjaxvcsw6347sr7")),a.a.createElement("div",{className:"key left-2"},a.a.createElement("p",null,"Wawes"),a.a.createElement("p",{className:"wallet"},"3PHcweuuz8mBZUKC6mNX4VNGhkPNX8a7jux")))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){(function(t){var r=n(17),a="undefined"!==typeof window?{encode:function(e){return(new TextEncoder).encode(e)},decode:function(e){return(new TextDecoder).decode(Uint8Array.from(e))}}:{encode:function(e){return t.from(e)},decode:function(e){return t.from(e).toString("utf8")}};e.exports=function e(t){"use strict";function n(e,t){var n=e;t&=3;var r={add:function(e){for(var a=255,c=t;--c;)a|=a<<8;return n=n+e&a,r},sub:function(e){for(var a=255,c=t;--c;)a|=a<<8;return n=n>=e?n-e:a+1+n-e,r},xor:function(e){return n^=e,r},done:function(){return n}};return r}r(this,e),"string"===typeof t?t=a.encode(t):t instanceof ArrayBuffer?t=new Uint8Array(t):t instanceof Uint8Array||(t=Uint8Array.from(t)),t=Uint8Array.from(t).filter(function(e){return!!e}),this.encrypt=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"array",c=["add","sub","xor"];"string"===typeof e?e=a.encode(e):e instanceof ArrayBuffer?e=new Uint8Array(e):e instanceof Uint8Array||(e=Uint8Array.from(e));for(var o=Uint8Array.from(e),i=t.length,l=o.length,s=[],u=0,f=0;f<l;){var d=0,y=t[u++];u=u>=i?u-i:u;for(var v=0,m=void 0;192>>v;){var h=(y&192>>v)>>6-v;if(h){d||(d=l-f<h?l-f:h,m=n(o.slice(f,f+d).reduce(function(e,t){return e?e<<8|t:t},0),d));var p=t.slice(u,u+d).reduce(function(e,t){return e?e<<8|t:t},0);m=m[c[h-1]](p),u=(u+=d)>=i?u-i:u}v+=2}for(var g=m.done(),w=[],E=d;E--;)w.unshift(255&g),g>>=8;s=s.concat(w),f+=d}return"array"===r?s:"bytearray"===r?Uint8Array.from(s):a.decode(s)},this.decrypt=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",c=["sub","add","xor"];"string"===typeof e&&(e=a.encode(e)),e instanceof ArrayBuffer?e=new Uint8Array(e):e instanceof Uint8Array||(e=Uint8Array.from(e));for(var o=Uint8Array.from(e),i=t.length,l=o.length,s=[],u=0,f=0;f<l;){var d=0,y=t[u++];u=u>=i?u-i:u;for(var v=void 0,m=0,h=[];192>>m;){var p=(y&192>>m)>>6-m;if(p){d||(d=l-f<p?l-f:p,v=n(o.slice(f,f+d).reduce(function(e,t){return e?e<<8|t:t},0),d));var g=t.slice(u,u+d).reduce(function(e,t){return e?e<<8|t:t},0);h.unshift({fn:c[p-1],key:g}),u=(u+=d)>=i?u-i:u}m+=2}for(var w=h.reduce(function(e,t){var n=t.fn,r=t.key;return e[n](r)},v).done(),E=[],A=d;A--;)E.unshift(255&w),w>>=8;s=s.concat(E),f+=d}return"array"===r?s:"bytearray"===r?Uint8Array.from(s):a.decode(s)}}}).call(this,n(10).Buffer)}},[[30,2,1]]]);
//# sourceMappingURL=main.9f2bd552.chunk.js.map